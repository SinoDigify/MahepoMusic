====================================
音乐下载器 - 使用指南
====================================

【快速开始】

1. 初始化环境

   如果是首次使用，请先运行初始化脚本：
   - 双击运行 init.bat
   - 等待依赖安装和Chrome下载完成（约5-10分钟）

2. 准备歌曲列表

   在项目根目录创建或编辑 todo-download.txt 文件
   格式：每行一首歌曲，建议使用"歌名 - 歌手"格式

   示例：
   ```
   Blinding Lights - The Weeknd
   Shape of You - Ed Sheeran
   Levitating - Dua Lipa
   All of Me - John Legend
   Perfect - Ed Sheeran
   ```

3. 运行程序

   开发模式（需要Python环境）：
   ```
   python music_downloader_v2.py
   ```

   或使用打包好的exe：
   ```
   双击 music_downloader.exe
   ```

4. 查看下载结果

   下载完成后，检查以下位置：
   - download/ 文件夹 - 包含下载的MP3和LRC文件
   - download-success.txt - 成功下载的歌曲列表
   - download-err.txt - 下载失败的歌曲列表

【功能说明】

自动下载MP3音乐
- 从MP3Juice搜索并下载音乐文件
- 自动重命名为歌曲名.mp3
- 如果文件已存在会自动覆盖

自动下载LRC歌词
- 从LRCLib搜索并下载歌词文件
- 保存为与音乐同名的.lrc文件
- 时间轴格式，支持大多数播放器

文件管理
- 下载完成后自动清空todo-download.txt
- 所有下载记录都保存在日志文件中
- 支持断点续传（重新运行时跳过已下载的歌曲）

【常见问题】

Q: 下载速度慢怎么办？
A: 下载速度取决于网络状况和MP3Juice服务器响应。程序使用headless Chrome，
   可能比手动下载稍慢，但可以批量处理。

Q: 某些歌曲下载失败？
A: 检查download-err.txt查看失败原因。常见原因：
   - 歌曲名拼写错误
   - MP3Juice没有该资源
   - 网络超时
   可以手动修改歌曲名后重新添加到todo-download.txt

Q: 歌词和音乐名称不一致？
A: 程序会使用你在todo-download.txt中填写的歌曲名作为文件名，
   确保MP3和LRC文件名称一致。

Q: 如何批量下载？
A: 在todo-download.txt中添加多首歌曲（每行一首），程序会依次下载。
   建议每次不超过20首，避免请求过于频繁。

Q: 可以中途停止吗？
A: 可以直接关闭窗口。已下载的歌曲会记录在download-success.txt中，
   未完成的保留在todo-download.txt中，下次运行时继续。

【高级技巧】

1. 提高搜索准确性
   使用完整的歌曲信息："歌名 - 歌手"格式
   例如："Shape of You - Ed Sheeran" 比 "Shape of You" 更准确

2. 批量处理
   可以准备一个包含大量歌曲的文本文件，分批复制到todo-download.txt

3. 自定义下载目录
   修改music_downloader_v2.py中的download_dir参数

4. 调整等待时间
   如果网络较慢，可以修改代码中的timeout参数（默认90秒）

【文件命名规则】

程序会自动清理文件名中的非法字符：
- 替换 < > : " / \ | ? * 为下划线
- 移除首尾空格
- 限制文件名长度为200字符

示例：
输入：Shape of You - Ed Sheeran
输出：Shape of You - Ed Sheeran.mp3
      Shape of You - Ed Sheeran.lrc

【注意事项】

- 需要稳定的网络连接
- 首次运行会自动创建download文件夹
- 程序使用内置Chrome，不会影响系统已安装的浏览器
- 下载的内容仅供个人学习使用，请遵守版权法规

====================================
